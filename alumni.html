<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coega Development Foundation | COEGA</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/directory.css">

    <style>
        /* CUSTOM SEARCH */
        
        .search-filter-container {
            margin-bottom: 20px;
        }
        
        .list-group-item {
            margin-bottom: 10px;
        }
    </style>
</head>

<body class="d-flex flex-column">
    <main class="flex-shrink-0">
        <!-- Responsive navbar-->
        <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top">
            <div class="container">
                <a class="navbar-brand" href="index.html">
                    <img src="/assets/logo/logo.svg" alt="" class="d-inline-block align-text-center" style="width: 75%;">
                </a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                <div class="collapse navbar-collapse justify-content-center" id="navbarSupportedContent">
                    <ul class="navbar-nav mb-2 mb-lg-0">
                        <li class="nav-item"><a class="nav-link active" aria-current="page" href="index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
                        <li class="nav-item"><a class="nav-link" href="gallery.html">Gallery</a></li>
                        <li class="nav-item"><a class="nav-link" href="alumni_directory.html">Alumni Directory</a></li>

                        <!-- Resources dropdown -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="resourcesDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Resources
                                </a>
                            <div class="dropdown-menu" aria-labelledby="resourcesDropdown">
                                <a class="dropdown-item" href="document_library.html">Document Library</a>
                                <a class="dropdown-item" href="media_releases.html">Media Releases</a>
                            </div>
                        </li>
                        <!-- End Resources dropdown -->
                        <li class="nav-item"><a class="nav-link" href="contact.html">Contact Us</a></li>

                    </ul>
                </div>

                <a class="nav-link btn btn-primary btn-sm" href="https://www.g2o.co.za/" target="_blank" style="padding: 8px 16px; color: white;">Apply Now</a>
                <span class="me-2">&nbsp;</span>
                <!-- Apply Now button with modified text color -->
                <a class="nav-link btn btn-outline-warning btn-sm" href="register.html" target="_blank" style="padding: 8px 16px; color: black;">Register</a>
            </div>
        </nav>
        <!-- Header -->
        <div id="global-header-placeholder"></div>


        <!-- Alumni search -->
        <section class="py-5">
            <div class="container">
                <div class="col-md-12">
                    <div class="page-people-directory">
                        <!-- Search and Filter Container -->
                        <div class="search-filter-container">
                            <div class="row">
                                <div class="col-md-9">
                                    <input type="text" id="searchInput" placeholder="Search people" class="form-control">
                                </div>
                                <div class="col-md-3">
                                    <!-- Filter Dropdown -->
                                    <div class="btn-group" style="display:block">
                                        <a href="register.html" class="btn btn-outline-green" role="button">Register your profile</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Alumni List -->
                        <div class="list-group contact-group" id="alumniList">
                            <!-- Your existing alumni list items go here -->
                        </div>

                        <!-- Pagination -->
                        <div style="padding-top: 20px; padding-bottom: 20px;">
                            <nav aria-label="Page navigation">
                                <ul class="pagination" id="paginationList">
                                    <!-- Pagination controls will be rendered here -->
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <!-- MODAL EDIT PROFILE -->
                <!-- ! REMOVED -->
                <!-- END MODAL -->

                <!-- PROFILE VIEW -->
                <div class="modal fade" id="alumniModal" tabindex="-1" role="dialog" aria-labelledby="alumniModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="alumniModalLabel">Alumni Details</h5>
                                <a href="login.html" class="btn btn-outline-secondary" role="button">Edit my Profile</a>
                                <button type="button" class="btn btn-danger" onclick="closeModal()" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true" style="font-size: 1em;">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body" id="alumniModalBody">
                                <!-- Alumni details will be displayed here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA -->
        <div id="global-cta-placeholder"></div>

    </main>
    <!-- Footer-->
    <!-- Script to dynamically include the footer -->
    <script>
        // Create a new div element
        var footerContainer = document.createElement('div');

        // Load the footer content using Fetch API
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                // Set the received HTML as the innerHTML of the container
                footerContainer.innerHTML = data;
                // Append the container to the body
                document.body.appendChild(footerContainer);
            });
    </script>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript">
    </script>
    <!-- SEARCH AND FILTER -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        // Function to generate a random number between min and max (inclusive)
        function getRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // Sample alumni data
        const alumniData = [{
                name: 'John Doe',
                position: 'Manager',
                place: 'Eastern Cape, Port Elizabeth',
                gender: 'Male',
                startDate: '12 Nov 2014',
                endDate: '31-May-2016',
                email: 'john.doe@example.com',
                phone: '+123456789',
                location: 'Eastern Cape, South Africa',
                description: 'I joined CDC as a procurement intern. After 5 months in procurement, I moved to the CEOâ€™s Office in which I stayed for the rest of my internship. CDC has groomed me into the professional I am today. I have learned everything starting from integrity at work.'
            }, {
                name: 'Jane Smith',
                position: 'Engineer',
                place: 'Western Cape, Cape Town',
                gender: 'Female',
                startDate: '15 Jan 2015',
                endDate: '30-Apr-2017',
                email: 'jane.smith@example.com',
                phone: '+987654321',
                location: 'Western Cape, South Africa',
                description: 'I started my journey at CDC as a software developer. Over the years, I have contributed to various projects and gained valuable experience. CDC has provided me with opportunities to grow and excel in my career.'
            }, {
                name: 'Michael Johnson',
                position: 'Software Developer',
                place: 'Gauteng, Johannesburg',
                gender: 'Male',
                startDate: '10 Mar 2016',
                endDate: '28-Feb-2018',
                email: 'michael.johnson@example.com',
                phone: '+1122334455',
                location: 'Gauteng, South Africa',
                description: 'As a marketing specialist at CDC, I have been involved in numerous campaigns and events. The collaborative and dynamic environment at CDC has allowed me to enhance my skills and make a meaningful impact.'
            },

        ];
        const itemsPerPage = 6; // Number of alumni items to show per page
        let currentPage = 1;

        // Function to generate HTML for alumni list
        function generateAlumniList(alumniList) {
            let html = '';
            for (let i = 0; i < alumniList.length; i++) {
                if (i % 3 === 0) {
                    // Start a new row
                    html += '<div class="row text-center">';
                }
                // Generate a random number for the avatar
                const avatarNumber = getRandomNumber(1, 800);

                html += `
                <div class="col-md-4">
                    <div class="list-group-item">
                        <div class="media">
                            <div class="pull-left">
                                <img class="img-circle" src="https://eu.ui-avatars.com/api/?name=${alumniList[i].name}&size=200" alt="...">
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">${alumniList[i].name} <small class="title-white">${alumniList[i].position}</small></h4>
                                <div class="media-content">
                                    <i class="fa fa-map-marker"></i> ${alumniList[i].place}
                                    <ul class="list-unstyled">
                                        <li><strong>Gender:</strong> ${alumniList[i].gender}</li>
                                        <li><strong>Started:</strong> ${alumniList[i].startDate}</li>
                                        <li><strong>End:</strong> ${alumniList[i].endDate}</li>
                                    </ul>
                                    <a href="#"><p>View details</p></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

                if ((i + 1) % 3 === 0 || i === alumniList.length - 1) {
                    // Close the row
                    html += '</div>';
                }
            }
            return html;
        }

        // Function to show alumni details in a modal
        function showAlumniDetails(alumni) {
            const modalBody = document.getElementById('alumniModalBody');
            modalBody.innerHTML = `
            <p><strong>Name:</strong> ${alumni.name}</p>
            <p><strong>Email:</strong> ${alumni.email}</p>
            <p><strong>Phone:</strong> ${alumni.phone}</p>
            <p><strong>Position:</strong> ${alumni.position}</p>
            <p><strong>Location:</strong> ${alumni.place}</p>
            <p><strong>Gender:</strong> ${alumni.gender}</p>
            <p><strong>Started:</strong> ${alumni.startDate}</p>
            <p><strong>End:</strong> ${alumni.endDate}</p>
            <p><strong>Description:</strong> ${alumni.description}</p>
        `;

            // Show the modal
            $('#alumniModal').modal('show');
        }


        // Function to render alumni list
        // function renderAlumniList(alumniList) {
        //     const alumniListContainer = document.querySelector('.list-group.contact-group');
        //     alumniListContainer.innerHTML = generateAlumniList(alumniList);
        // }

        // Function to render alumni list
        function renderAlumniList(alumniList) {
            const alumniListContainer = document.querySelector('.list-group.contact-group');
            alumniListContainer.innerHTML = generateAlumniList(alumniList);

            // Add click event listener to each alumni card
            document.querySelectorAll('.list-group-item').forEach((card, index) => {
                card.addEventListener('click', () => showAlumniDetails(alumniList[index]));
            });
        }

        // Function to filter alumni based on search input
        function filterAlumni() {
            const searchInput = document.getElementById('searchInput');
            const filterValue = searchInput.value.toLowerCase();

            const filteredAlumni = alumniData.filter(alumni => {
                return (
                    alumni.name.toLowerCase().includes(filterValue) ||
                    alumni.position.toLowerCase().includes(filterValue) ||
                    alumni.place.toLowerCase().includes(filterValue)
                );
            });

            renderAlumniList(filteredAlumni);
            renderPagination(filteredAlumni);
        }

        // Function to render pagination controls
        function renderPagination(alumniList) {
            const paginationList = document.getElementById('paginationList');
            paginationList.innerHTML = '';

            const totalPages = Math.ceil(alumniList.length / itemsPerPage);

            for (let i = 1; i <= totalPages; i++) {
                const li = document.createElement('li');
                li.classList.add('page-item');
                const a = document.createElement('a');
                a.classList.add('page-link');
                a.href = '#';
                a.textContent = i;
                a.addEventListener('click', () => changePage(i, alumniList));
                li.appendChild(a);
                paginationList.appendChild(li);
            }
        }

        // Function to change the current page
        function changePage(page, alumniList) {
            currentPage = page;
            renderAlumniList(getCurrentPageItems(alumniList));
        }

        // Function to get items for the current page
        function getCurrentPageItems(alumniList) {
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            return alumniList.slice(startIndex, endIndex);
        }

        // Function to initialize the page
        function initPage() {
            renderAlumniList(alumniData);
            renderPagination(alumniData);

            // Add event listener for search input
            document.getElementById('searchInput').addEventListener('input', filterAlumni);
        }

        // Initialize the page
        initPage();
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load the global header dynamically
            fetch('header.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('global-header-placeholder').innerHTML = html;

                    // Check if the 'header-title' element exists before setting text content
                    const headerTitle = document.getElementById('header-title');
                    if (headerTitle) {
                        // Dynamically set the H1 text (replace 'Your Custom Title' with the desired title)
                        headerTitle.textContent = 'Alumni Members';
                    }
                })
                .catch(error => console.error('Error fetching header:', error));
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load the global CTA dynamically
            fetch('cta.html')
                .then(response => response.text())
                .then(html => {
                    // Insert the CTA HTML into the desired location
                    document.getElementById('global-cta-placeholder').innerHTML = html;
                })
                .catch(error => console.error('Error fetching CTA:', error));
        });
    </script>
    <script>
        function closeModal() {
            $('#alumniModal').modal('hide');
        }
    </script>

</body>

</html>